#
# Patch specification for use with SMPatch
#


## The id of this patch, displayed at run time
id: Bug fixes since v3.1

## Only apply this patch to installations with at least this DBVersion
mindb: 9

## Only apply this patch to installations with at most this DBVersion
maxdb: 10


## Only apply this patch to installations with at least this AppVersion
minapp: 3.1

## Only apply this patch to installations with at most this DBVersion
maxapp: 

sql:
  - UPDATE entrants SET ScoreX=Replace(ScoreX,'&checkmark;','&#x2713;');
  - UPDATE rallyparams SET EmailParams=Replace(EmailParams,'"SetFrom',Printf('"Encoding"%c "quoted-printable", "CharSet"%c "UTF-8", "SetFrom',':',':'));
  - UPDATE rallyparams SET settings=Replace(settings,'}',Printf(',"RPT_TPenalty"%c "&#x23F0;Late arrival penalty","RPT_MPenalty"%c "Excess distance penalty",	"RPT_SPenalty"%c "Excess speed penalty"}',':',':',':'));

files:
  - sm/bonuses.php
  - sm/claimslog.php
  - sm/about.php
  - sm/certedit.php
  - sm/speeding.php
  - sm/timep.php
  - sm/recalc.js
  - sm/claimsphp.js
  - sm/sm.php
  - sm/custom.js
  - sm/combos.php
  - sm/customvars.php
  - sm/score.js
  - sm/recalc.php
  - sm/scorecard.php
  
folders:



